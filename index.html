<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宁波边界地图</title>
    <script src="https://api.tianditu.gov.cn/api?v=4.0&tk=3d4757a18f713979f800910387f33305" type="text/javascript"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
        <div class="tool-menu">
        <button class="tool-menu-btn">工具</button>
        <div class="dropdown-content">
            <a href="geojson-extractor.html">geojson提取</a>
        </div>
    </div>
    <button id="hamburger" aria-label="展开菜单">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </button>
    <div id="app-container">
        <div id="sidebar">
            <div id="dataset-controls">
                <label for="dataset-select" class="control">数据集</label>
                <select id="dataset-select" class="select"></select>
            </div>
            <div id="display-mode-controls">
                <label class="control">显示模式</label>
                <div class="toggle-container">
                    <div class="toggle-switch">
                        <input type="radio" id="boundary-mode" name="display-mode" value="boundary" checked>
                        <label for="boundary-mode" class="toggle-label">边界</label>
                    </div>
                    <div class="toggle-switch">
                        <input type="radio" id="point-mode" name="display-mode" value="point">
                        <label for="point-mode" class="toggle-label">点位</label>
                    </div>
                </div>
            </div>
            <div id="filter-controls">
                <label for="county-filter" class="control">按区县筛选</label>
                <select id="county-filter" class="select">
                    <option value="all">全宁波</option>
                </select>
            </div>
            <input type="text" id="search-box" class="input" placeholder="搜索边界...">
            <ul id="district-list"></ul>
            <div id="pagination-controls">
                <button id="prev-page" class="btn">上一页</button>
                <span id="page-info"></span>
                <button id="next-page" class="btn">下一页</button>
                <select id="items-per-page" class="select" style="width:auto;">
                    <option value="10">10/页</option>
                    <option value="20">20/页</option>
                </select>
            </div>
        </div>
        <div id="map"></div>
    </div>
    <div id="backdrop"></div>

    <script src="map.js"></script>
    <script>
    (function(){
        const menu = document.querySelector('.tool-menu');
        const btn = document.querySelector('.tool-menu-btn');
        if(!menu || !btn) return;

        // Toggle on button click
        btn.addEventListener('click', function(e){
            e.stopPropagation();
            menu.classList.toggle('open');
        });

        // Prevent clicks inside menu from closing it
        menu.addEventListener('click', function(e){
            e.stopPropagation();
        });

        // Click outside closes
        document.addEventListener('click', function(){
            menu.classList.remove('open');
        });
    })();
    </script>
</body>
</html>